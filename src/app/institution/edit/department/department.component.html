<n3-neck>
    <a class='bread-crumbs' [routerLink] = '["/institution"]'>Образовательные организации</a>
    <br>↓<br>
    <a class='bread-crumbs' (click) = 'back()'>{{_institution.name}}</a>
    <br>↓
    <h1>Подразделение ораганизации</h1>
</n3-neck>
<n3-columns context='form'>
  <column-1>
    <form [formGroup]="form" (submit)='onSubmit()'>
        <anchor-target name='common'></anchor-target>
        <h2>Общие сведения</h2>

        <edit-job
            [title] = '"Руководитель"'
            (onDelete) = 'onHeadDelete()'
            formControlName = 'head'
        ></edit-job>

        <n3-select
            [title] = '"Вид"'
            [placeholder] = '"Вид"'
            [fromMethod] = 'kindService'
            formControlName = 'kind'
        ></n3-select>

        <n3-select
            [title] = '"Головное подразделение"'
            [placeholder] = '"Головное подразделение"'
            [fromMethod] = 'parentService'
            formControlName = 'parent'
            [beforeSetValue] = 'beforeParntSetValue'
            [beforeGetValue] = 'beforeParntGetValue'
        ></n3-select>

        <n3-datepicker 
            [options]="foundationDateOptions"
            formControlName="foundation_date"
        >
        </n3-datepicker>
        
        <n3-datepicker 
            [options]="liquidationDateOptions"
            formControlName="liquidation_date"
        >
        </n3-datepicker>

        <n3-input
            [title] = '"Наименование"'
            [placeholder] = '"Наименование"'
            formControlName = 'name'
        ></n3-input>

        <edit-capacity
            [title] = '"Вместительность"'
            [limit] = '1'
            (onDelete) = 'onCapacityDelete($event)'
            formControlName = 'capacity'
        ></edit-capacity>

        <n3-checkbox
            [title] = '"Располагается на базе другого учреждения"'
            formControlName = 'is_based_on_another_organization'
        ></n3-checkbox>

        <anchor-target name='contacts'></anchor-target>
        <h2>Контактная информация</h2>

        <edit-address 
            [title] = '"Почтовый адрес"'
            (onDelete) = 'onAddressDelete($event)'
            [limit] = '1'
            formControlName = 'address'
        ></edit-address>


        <edit-contact
            [title] = '"Контактные данные"'
            (onDelete) = 'onContactDelete($event)'
            formControlName = 'contacts'
        ></edit-contact>
        
        <div class='buttons-array' fly>
            <div class='create-new-btn btn' (click)='onSubmit()'>
                <span class='text'>Сохранить</span>
            </div> 

            <div class='transparent-btn btn' (click)='back()'>
                <span class='text'>Отменить</span>
            </div>
        </div>
    </form>
  </column-1>
  <column-2>
    <anchor-menu 
      [list]='anchorList'
      [anchors]='anchors'
    ></anchor-menu>
  </column-2>
</n3-columns>
